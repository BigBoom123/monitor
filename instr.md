Пошаговая инструкция: Мониторинг Prozorro с уведомлениями в Telegram
Эта инструкция поможет вам создать автоматизированную систему, которая будет отслеживать новые закупки на сайте Prozorro по заданным вами ключевым словам и отправлять уведомления в ваш личный Telegram-бот.

Часть 1: Создание и настройка Telegram-бота
Это самый простой шаг. Нам нужен бот, который будет получать сообщения от нашей системы.

Найдите BotFather: В приложении Telegram найдите официальный бот для создания других ботов: BotFather (у него синяя галочка верификации).

Создайте нового бота:

Отправьте ему команду /newbot.

BotFather попросит вас придумать имя для бота (например, "Монитор Закупок").

Затем придумайте уникальный username для бота (он должен заканчиваться на bot, например: MyProzorroMonitorBot).

Сохраните токен: После успешного создания бота BotFather пришлет вам токен — это длинная строка из букв и цифр. Это ключ к вашему боту, не сообщайте его никому. Скопируйте и сохраните его в надежном месте. Он понадобится нам для интеграции с n8n.

Найдите ID вашего чата:

Найдите в Telegram бота с именем userinfobot.

Отправьте ему любое сообщение.

Он в ответ пришлет ваш Chat ID. Сохраните его, он тоже понадобится.

Видеоурок: Чтобы наглядно увидеть этот процесс, вы можете найти на YouTube видео по запросу: "как создать телеграм бота через botfather".

Часть 2: Настройка n8n и мониторинг Prozorro
n8n — это бесплатный open-source инструмент для автоматизации. Мы будем использовать его как "мозг" нашей системы.

Установка n8n: Самый простой способ — использовать Docker. Если у вас нет Docker, установите его с официального сайта. Затем выполните в терминале одну команду:
docker run -it --rm --name n8n -p 5678:5678 -v ~/.n8n:/home/node/.n8n n8nio/n8n
После этого n8n будет доступен в вашем браузере по адресу http://localhost:5678.

Создание рабочего процесса (Workflow):

В интерфейсе n8n нажмите на кнопку Add workflow. Вы увидите пустой холст с кнопкой +.

Наш процесс будет начинаться с периодического запуска. Нажмите + и выберите ноду (узел) Schedule. Настройте ее на запуск раз в час (Every Hour) или как вам удобно.

Получение данных с Prozorro:

Нажмите + после ноды Schedule и выберите ноду HTTP Request. Эта нода будет отправлять запрос к API Prozorro.

Prozorro имеет открытый API для получения информации о закупках.

В настройках ноды HTTP Request:

URL: Вставьте https://public.api.openprocurement.org/api/2.5/tenders

Method: Оставьте GET.

Это базовый запрос для получения списка последних тендеров. Нажмите Execute Node, чтобы проверить. Вы должны увидеть список данных в формате JSON.

Фильтрация закупок:

Теперь нам нужно отфильтровать только те закупки, которые нам интересны.

Нажмите + после HTTP Request и добавьте ноду IF.

В настройках IF вы можете задать условия. Например, если вы хотите отслеживать закупки, в названии которых есть слово "ремонт", настройте условие так:

Value 1: {{$json["title"]}} (это переменная, которая берет заголовок закупки).

Operation: contains.

Value 2: ремонт (или любое ваше ключевое слово).

Часть 3: Отправка уведомлений в Telegram
Добавление ноды Telegram: После "true" выхода из ноды IF нажмите + и найдите ноду Telegram.

Настройка подключения:

В поле Telegram API Credentials нажмите Create New.

В поле Token вставьте тот самый токен бота, который вы получили от BotFather.

Настройка сообщения:

Chat ID: Вставьте ваш Chat ID, который вы получили от userinfobot.

Text: Здесь вы можете составить текст сообщения, используя данные из Prozorro. Например:
Нова закупівля: {{$json["title"]}}
Опис: {{$json["description"]}}
Посилання: https://prozorro.gov.ua/tender/{{$json["id"]}}

Активация Workflow: После настройки всех нод, активируйте ваш workflow, переключив тумблер Active в левом верхнем углу.

Теперь система будет автоматически проверять закупки и присылать вам уведомления в Telegram!

Видеоурок: Для лучшего понимания работы с n8n и Telegram, поищите на YouTube: "n8n telegram tutorial" или "n8n http request".
